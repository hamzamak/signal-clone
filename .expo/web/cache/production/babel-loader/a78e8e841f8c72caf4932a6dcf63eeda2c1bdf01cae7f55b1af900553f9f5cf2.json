{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import{Platform}from'expo-modules-core';import PixelRatio from\"react-native-web/dist/exports/PixelRatio\";function getScaledAssetPath(asset){var scale=AssetSourceResolver.pickScale(asset.scales,PixelRatio.get());var scaleSuffix=scale===1?'':'@'+scale+'x';var type=!asset.type?'':\".\"+asset.type;return asset.httpServerLocation+'/'+asset.name+scaleSuffix+type;}var AssetSourceResolver=function(){function AssetSourceResolver(serverUrl,jsbundleUrl,asset){_classCallCheck(this,AssetSourceResolver);if(!serverUrl){throw new Error('Web assets require a server URL');}this.serverUrl=serverUrl;this.jsbundleUrl=null;this.asset=asset;}_createClass(AssetSourceResolver,[{key:\"isLoadedFromServer\",value:function isLoadedFromServer(){return true;}},{key:\"isLoadedFromFileSystem\",value:function isLoadedFromFileSystem(){return false;}},{key:\"defaultAsset\",value:function defaultAsset(){return this.assetServerURL();}},{key:\"assetServerURL\",value:function assetServerURL(){var fromUrl=new URL(getScaledAssetPath(this.asset),this.serverUrl);fromUrl.searchParams.set('platform',Platform.OS);fromUrl.searchParams.set('hash',this.asset.hash);return this.fromSource(fromUrl.toString());}},{key:\"fromSource\",value:function fromSource(source){var _this$asset$width,_this$asset$height;return{__packager_asset:true,width:(_this$asset$width=this.asset.width)!=null?_this$asset$width:undefined,height:(_this$asset$height=this.asset.height)!=null?_this$asset$height:undefined,uri:source,scale:AssetSourceResolver.pickScale(this.asset.scales,PixelRatio.get())};}}],[{key:\"pickScale\",value:function pickScale(scales,deviceScale){for(var i=0;i<scales.length;i++){if(scales[i]>=deviceScale){return scales[i];}}return scales[scales.length-1]||1;}}]);return AssetSourceResolver;}();export{AssetSourceResolver as default};","map":{"version":3,"names":["Platform","PixelRatio","getScaledAssetPath","asset","scale","AssetSourceResolver","pickScale","scales","get","scaleSuffix","type","httpServerLocation","name","serverUrl","jsbundleUrl","_classCallCheck","Error","_createClass","key","value","isLoadedFromServer","isLoadedFromFileSystem","defaultAsset","assetServerURL","fromUrl","URL","searchParams","set","OS","hash","fromSource","toString","source","_this$asset$width","_this$asset$height","__packager_asset","width","undefined","height","uri","deviceScale","i","length","default"],"sources":["C:\\Users\\ACER\\Desktop\\Nouveau dossier\\signal-clone\\node_modules\\expo-asset\\src\\AssetSourceResolver.web.ts"],"sourcesContent":["import { Platform } from 'expo-modules-core';\nimport { PixelRatio } from 'react-native';\nimport { PackagerAsset } from 'react-native/Libraries/Image/AssetRegistry';\n\nexport type ResolvedAssetSource = {\n  __packager_asset: boolean;\n  width?: number;\n  height?: number;\n  uri: string;\n  scale: number;\n};\n\n// Returns the Metro dev server-specific asset location.\nfunction getScaledAssetPath(asset): string {\n  const scale = AssetSourceResolver.pickScale(asset.scales, PixelRatio.get());\n  const scaleSuffix = scale === 1 ? '' : '@' + scale + 'x';\n  const type = !asset.type ? '' : `.${asset.type}`;\n  return asset.httpServerLocation + '/' + asset.name + scaleSuffix + type;\n}\n\nexport default class AssetSourceResolver {\n  serverUrl: string;\n  // where the jsbundle is being run from\n  // NOTE(EvanBacon): Never defined on web.\n  jsbundleUrl?: string | null;\n  // the asset to resolve\n  asset: PackagerAsset;\n\n  constructor(\n    serverUrl: string | undefined | null,\n    jsbundleUrl: string | undefined | null,\n    asset: PackagerAsset\n  ) {\n    if (!serverUrl) {\n      throw new Error('Web assets require a server URL');\n    }\n\n    this.serverUrl = serverUrl;\n    this.jsbundleUrl = null;\n    this.asset = asset;\n  }\n\n  // Always true for web runtimes\n  isLoadedFromServer(): boolean {\n    return true;\n  }\n\n  // Always false for web runtimes\n  isLoadedFromFileSystem(): boolean {\n    return false;\n  }\n\n  defaultAsset(): ResolvedAssetSource {\n    return this.assetServerURL();\n  }\n\n  /**\n   * @returns absolute remote URL for the hosted asset.\n   */\n  assetServerURL(): ResolvedAssetSource {\n    const fromUrl = new URL(getScaledAssetPath(this.asset), this.serverUrl);\n    fromUrl.searchParams.set('platform', Platform.OS);\n    fromUrl.searchParams.set('hash', this.asset.hash);\n    return this.fromSource(fromUrl.toString());\n  }\n\n  fromSource(source: string): ResolvedAssetSource {\n    return {\n      __packager_asset: true,\n      width: this.asset.width ?? undefined,\n      height: this.asset.height ?? undefined,\n      uri: source,\n      scale: AssetSourceResolver.pickScale(this.asset.scales, PixelRatio.get()),\n    };\n  }\n\n  static pickScale(scales: number[], deviceScale: number): number {\n    for (let i = 0; i < scales.length; i++) {\n      if (scales[i] >= deviceScale) {\n        return scales[i];\n      }\n    }\n    return scales[scales.length - 1] || 1;\n  }\n}\n"],"mappings":"gIAAA,OAASA,QAAQ,KAAQ,mBAAmB,CAAC,OAAAC,UAAA,gDAa7C,QAAS,CAAAC,kBAAkBA,CAACC,KAAK,EAC/B,GAAM,CAAAC,KAAK,CAAGC,mBAAmB,CAACC,SAAS,CAACH,KAAK,CAACI,MAAM,CAAEN,UAAU,CAACO,GAAG,EAAE,CAAC,CAC3E,GAAM,CAAAC,WAAW,CAAGL,KAAK,GAAK,CAAC,CAAG,EAAE,CAAG,GAAG,CAAGA,KAAK,CAAG,GAAG,CACxD,GAAM,CAAAM,IAAI,CAAG,CAACP,KAAK,CAACO,IAAI,CAAG,EAAE,KAAOP,KAAK,CAACO,IAAM,CAChD,MAAO,CAAAP,KAAK,CAACQ,kBAAkB,CAAG,GAAG,CAAGR,KAAK,CAACS,IAAI,CAAGH,WAAW,CAAGC,IAAI,CACzE,CAAC,GAEoB,CAAAL,mBAAmB,YAQtC,SAAAA,oBACEQ,SAAoC,CACpCC,WAAsC,CACtCX,KAAoB,EAAAY,eAAA,MAAAV,mBAAA,EAEpB,GAAI,CAACQ,SAAS,CAAE,CACd,KAAM,IAAI,CAAAG,KAAK,CAAC,iCAAiC,CAAC,C,CAGpD,IAAI,CAACH,SAAS,CAAGA,SAAS,CAC1B,IAAI,CAACC,WAAW,CAAG,IAAI,CACvB,IAAI,CAACX,KAAK,CAAGA,KAAK,CACpB,CAACc,YAAA,CAAAZ,mBAAA,GAAAa,GAAA,sBAAAC,KAAA,CAGD,SAAAC,mBAAA,CAAkB,CAChB,MAAO,KAAI,CACb,CAAC,GAAAF,GAAA,0BAAAC,KAAA,CAGD,SAAAE,uBAAA,CAAsB,CACpB,MAAO,MAAK,CACd,CAAC,GAAAH,GAAA,gBAAAC,KAAA,CAED,SAAAG,aAAA,CAAY,CACV,MAAO,KAAI,CAACC,cAAc,EAAE,CAC9B,CAAC,GAAAL,GAAA,kBAAAC,KAAA,CAKD,SAAAI,eAAA,CAAc,CACZ,GAAM,CAAAC,OAAO,CAAG,GAAI,CAAAC,GAAG,CAACvB,kBAAkB,CAAC,IAAI,CAACC,KAAK,CAAC,CAAE,IAAI,CAACU,SAAS,CAAC,CACvEW,OAAO,CAACE,YAAY,CAACC,GAAG,CAAC,UAAU,CAAE3B,QAAQ,CAAC4B,EAAE,CAAC,CACjDJ,OAAO,CAACE,YAAY,CAACC,GAAG,CAAC,MAAM,CAAE,IAAI,CAACxB,KAAK,CAAC0B,IAAI,CAAC,CACjD,MAAO,KAAI,CAACC,UAAU,CAACN,OAAO,CAACO,QAAQ,EAAE,CAAC,CAC5C,CAAC,GAAAb,GAAA,cAAAC,KAAA,CAED,SAAAW,WAAWE,MAAc,MAAAC,iBAAA,CAAAC,kBAAA,CACvB,MAAO,CACLC,gBAAgB,CAAE,IAAI,CACtBC,KAAK,EAAAH,iBAAA,CAAE,IAAI,CAAC9B,KAAK,CAACiC,KAAK,QAAAH,iBAAA,CAAII,SAAS,CACpCC,MAAM,EAAAJ,kBAAA,CAAE,IAAI,CAAC/B,KAAK,CAACmC,MAAM,QAAAJ,kBAAA,CAAIG,SAAS,CACtCE,GAAG,CAAEP,MAAM,CACX5B,KAAK,CAAEC,mBAAmB,CAACC,SAAS,CAAC,IAAI,CAACH,KAAK,CAACI,MAAM,CAAEN,UAAU,CAACO,GAAG,EAAE,C,CACzE,CACH,CAAC,KAAAU,GAAA,aAAAC,KAAA,CAED,SAAAb,UAAiBC,MAAgB,CAAEiC,WAAmB,EACpD,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGlC,MAAM,CAACmC,MAAM,CAAED,CAAC,EAAE,CAAE,CACtC,GAAIlC,MAAM,CAACkC,CAAC,CAAC,EAAID,WAAW,CAAE,CAC5B,MAAO,CAAAjC,MAAM,CAACkC,CAAC,CAAC,C,EAGpB,MAAO,CAAAlC,MAAM,CAACA,MAAM,CAACmC,MAAM,CAAG,CAAC,CAAC,EAAI,CAAC,CACvC,CAAC,WAAArC,mBAAA,YA/DkBA,mBAAmB,IAAAsC,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}